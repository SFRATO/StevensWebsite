---
/**
 * Thank You Page
 * Post-form confirmation page with next steps and engagement
 */
import BaseLayout from '@layouts/BaseLayout.astro';

// Import market data for related pages
import countiesData from '../../data/processed/counties.json';

interface CountyData {
  region: string;
  slug: string;
  median_sale_price: number | null;
  market_type: 'seller' | 'buyer' | 'balanced';
}

const counties = countiesData as CountyData[];

const formatCurrency = (value: number | null): string => {
  if (value === null) return 'N/A';
  return new Intl.NumberFormat('en-US', {
    style: 'currency',
    currency: 'USD',
    maximumFractionDigits: 0,
  }).format(value);
};

const phone = '(609) 789-0126';
const phoneHref = 'tel:+16097890126';
---

<BaseLayout
  title="Thank You | Steven Frato Real Estate"
  description="Thank you for your inquiry. Your request has been received and I'll be in touch soon."
  noindex={true}
>
  <section class="thank-you-page">
    <div class="container">
      <div class="thank-you-content">
        <!-- Success Icon -->
        <div class="success-icon">
          <svg width="64" height="64" viewBox="0 0 24 24" fill="none">
            <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </div>

        <!-- Main Message -->
        <h1>Thank You!</h1>
        <p class="lead-message">
          Your request has been received. Check your inbox for your personalized market report.
        </p>

        <!-- What's Next Section -->
        <div class="whats-next">
          <h2>What Happens Next</h2>
          <div class="timeline">
            <div class="timeline-item">
              <div class="timeline-marker">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
                  <path d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" stroke="currentColor" stroke-width="2"/>
                </svg>
              </div>
              <div class="timeline-content">
                <h3>Check Your Inbox</h3>
                <p>Your personalized market report will arrive within 24 hours. Be sure to check your spam folder.</p>
              </div>
            </div>

            <div class="timeline-item">
              <div class="timeline-marker">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
                  <path d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z" stroke="currentColor" stroke-width="2"/>
                </svg>
              </div>
              <div class="timeline-content">
                <h3>Receive Market Insights</h3>
                <p>Over the next two weeks, you'll receive helpful market updates and pricing insights for your area.</p>
              </div>
            </div>

            <div class="timeline-item">
              <div class="timeline-marker">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
                  <path d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z" stroke="currentColor" stroke-width="2"/>
                </svg>
              </div>
              <div class="timeline-content">
                <h3>Schedule a Consultation</h3>
                <p>When you're ready to discuss your options, I'm here to provide personalized guidance.</p>
              </div>
            </div>
          </div>
        </div>

        <!-- Phone CTA -->
        <div class="phone-cta">
          <p>Want to talk now? I'm available to answer your questions.</p>
          <a href={phoneHref} class="btn btn-primary btn-large">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
              <path d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z" stroke="currentColor" stroke-width="2"/>
            </svg>
            Call {phone}
          </a>
        </div>
      </div>

      <!-- Explore Markets Section -->
      <div class="explore-markets">
        <h2>Explore Market Data</h2>
        <p>While you wait, explore current market conditions in your area:</p>

        <div class="counties-grid">
          {counties.map((county) => (
            <a href={`/market/${county.slug}/`} class="county-card">
              <h3>{county.region}</h3>
              <span class="price">{formatCurrency(county.median_sale_price)}</span>
              <span class={`market-badge badge-${county.market_type}`}>
                {county.market_type === 'seller' ? "Seller's Market" :
                 county.market_type === 'buyer' ? "Buyer's Market" : 'Balanced'}
              </span>
            </a>
          ))}
        </div>

        <p class="back-home">
          <a href="/">Return to Homepage</a>
        </p>
      </div>
    </div>
  </section>
</BaseLayout>

<style>
  .thank-you-page {
    padding: var(--space-16) 0;
    background: linear-gradient(135deg, var(--white) 0%, var(--off-white) 100%);
    min-height: 80vh;
  }

  .thank-you-content {
    text-align: center;
    max-width: 600px;
    margin: 0 auto var(--space-12);
  }

  .success-icon {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 100px;
    height: 100px;
    background: rgba(76, 175, 80, 0.1);
    border-radius: var(--radius-full);
    color: var(--accent-green);
    margin-bottom: var(--space-6);
  }

  .thank-you-content h1 {
    font-size: var(--text-4xl);
    color: var(--text-primary);
    margin-bottom: var(--space-4);
  }

  .lead-message {
    font-size: var(--text-xl);
    color: var(--text-secondary);
    line-height: var(--leading-relaxed);
    margin-bottom: var(--space-8);
  }

  /* What's Next Section */
  .whats-next {
    background: var(--white);
    padding: var(--space-8);
    border-radius: var(--radius-lg);
    box-shadow: var(--shadow-md);
    text-align: left;
    margin-bottom: var(--space-8);
  }

  .whats-next h2 {
    font-size: var(--text-lg);
    text-transform: uppercase;
    letter-spacing: 0.05em;
    color: var(--c21-gold);
    margin-bottom: var(--space-6);
    text-align: center;
  }

  .timeline {
    display: flex;
    flex-direction: column;
    gap: var(--space-6);
  }

  .timeline-item {
    display: flex;
    gap: var(--space-4);
  }

  .timeline-marker {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 48px;
    height: 48px;
    min-width: 48px;
    background: linear-gradient(135deg, var(--c21-gold-light), var(--c21-gold));
    border-radius: var(--radius-full);
    color: var(--white);
  }

  .timeline-content h3 {
    font-size: var(--text-base);
    color: var(--text-primary);
    margin-bottom: var(--space-1);
  }

  .timeline-content p {
    font-size: var(--text-sm);
    color: var(--text-secondary);
    line-height: var(--leading-relaxed);
  }

  /* Phone CTA */
  .phone-cta {
    padding: var(--space-6);
    background: var(--charcoal);
    border-radius: var(--radius-lg);
    color: var(--white);
  }

  .phone-cta p {
    margin-bottom: var(--space-4);
    opacity: 0.9;
  }

  .phone-cta .btn {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: var(--space-2);
    padding: var(--space-4) var(--space-8);
    background-color: var(--c21-gold);
    color: var(--white);
    border-radius: var(--radius-md);
    font-weight: var(--font-semibold);
    font-size: var(--text-lg);
    text-decoration: none;
    transition: all var(--transition-base);
  }

  .phone-cta .btn:hover {
    background-color: var(--c21-gold-dark);
    transform: translateY(-2px);
  }

  /* Explore Markets */
  .explore-markets {
    text-align: center;
  }

  .explore-markets h2 {
    font-size: var(--text-2xl);
    color: var(--text-primary);
    margin-bottom: var(--space-2);
  }

  .explore-markets > p {
    color: var(--text-secondary);
    margin-bottom: var(--space-6);
  }

  .counties-grid {
    display: grid;
    gap: var(--space-4);
    margin-bottom: var(--space-6);
  }

  @media (min-width: 768px) {
    .counties-grid {
      grid-template-columns: repeat(3, 1fr);
    }
  }

  .county-card {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: var(--space-2);
    padding: var(--space-5);
    background: var(--white);
    border-radius: var(--radius-md);
    text-decoration: none;
    color: inherit;
    border: 1px solid var(--border-color);
    transition: all var(--transition-base);
  }

  .county-card:hover {
    border-color: var(--c21-gold);
    box-shadow: var(--shadow-md);
    transform: translateY(-2px);
  }

  .county-card h3 {
    font-size: var(--text-base);
    color: var(--text-primary);
    margin: 0;
  }

  .county-card .price {
    font-size: var(--text-xl);
    font-weight: var(--font-bold);
    color: var(--c21-gold);
  }

  .market-badge {
    font-size: var(--text-xs);
    padding: var(--space-1) var(--space-2);
    border-radius: var(--radius-sm);
    font-weight: var(--font-semibold);
    text-transform: uppercase;
  }

  .badge-seller {
    background-color: rgba(76, 175, 80, 0.1);
    color: var(--accent-green);
  }

  .badge-buyer {
    background-color: rgba(229, 57, 53, 0.1);
    color: var(--accent-red);
  }

  .badge-balanced {
    background-color: rgba(201, 156, 51, 0.1);
    color: var(--c21-gold);
  }

  .back-home {
    margin-top: var(--space-4);
  }

  .back-home a {
    color: var(--c21-gold);
    text-decoration: none;
    font-weight: var(--font-medium);
  }

  .back-home a:hover {
    text-decoration: underline;
  }

  @media (max-width: 768px) {
    .thank-you-page {
      padding: var(--space-10) 0;
    }

    .thank-you-content h1 {
      font-size: var(--text-2xl);
    }

    .lead-message {
      font-size: var(--text-lg);
    }

    .phone-cta .btn {
      width: 100%;
    }
  }
</style>
